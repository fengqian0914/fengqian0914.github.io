<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="notify-btn">è¨­å®šé€šçŸ¥</button>

    <script>
        // åœ¨é é¢åŠ è¼‰æ™‚æª¢æŸ¥é€šçŸ¥æ¬Šé™ç‹€æ…‹
        document.addEventListener('DOMContentLoaded', () => {
            const notifyButton = document.getElementById('notify-btn');
            const statusElement = document.getElementById('notify-btn');

            // ç•¶æŒ‰éˆ•è¢«é»æ“Šæ™‚
            notifyButton.addEventListener('click', () => {
                if (Notification.permission === 'default') {
                    // ç¬¬ä¸€æ¬¡æˆ–å°šæœªè™•ç†æ¬Šé™æ™‚ï¼Œè©¢å•æ¬Šé™
                    Notification.requestPermission().then(permission => {
                        if (permission === 'granted') {
                            // æ¬Šé™å…è¨±å¾Œï¼Œè¨­å®šé€šçŸ¥
                            scheduleNotification();
                        } else if (permission === 'denied') {
                            alert('é€šçŸ¥æ¬Šé™å·²è¢«æ‹’çµ•ï¼Œè«‹æ‰‹å‹•åˆ°ç€è¦½å™¨è¨­å®šä¸­é–‹å•Ÿé€šçŸ¥ã€‚');
                            statusElement.textContent = `é€šçŸ¥æ¬Šé™å·²è¢«æ‹’çµ•ï¼Œè«‹æ‰‹å‹•åˆ°ç€è¦½å™¨è¨­å®šä¸­é–‹å•Ÿé€šçŸ¥ã€‚`;

                        }
                    });
                } else if (Notification.permission === 'granted') {
                    // å¦‚æœå·²å…è¨±æ¬Šé™ï¼Œç›´æ¥ç™¼é€é€šçŸ¥
                    scheduleNotification();
                } else {
                    // å¦‚æœæ¬Šé™å·²è¢«æ‹’çµ•ï¼Œæç¤ºç”¨æˆ¶æ‰‹å‹•æ“ä½œ
                    statusElement.textContent = `æ‚¨é€šçŸ¥æ¬Šé™è¢«ç¦æ­¢ï¼Œè«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿå•Ÿç”¨é€šçŸ¥ï¼š`;

                    alert('é€šçŸ¥æ¬Šé™è¢«ç¦æ­¢ï¼Œè«‹ä¾ç…§ä»¥ä¸‹æ­¥é©Ÿå•Ÿç”¨é€šçŸ¥ï¼š\n1. é»æ“Šç€è¦½å™¨åœ°å€æ¬„å·¦å´çš„ğŸ”’æˆ–ğŸ”“åœ–ç¤ºã€‚\n2. é¸æ“‡ã€Œé€šçŸ¥ã€ï¼Œä¸¦å…è¨±é€šçŸ¥åŠŸèƒ½ã€‚');
                }
            });
        });

        // æ’ç¨‹é€šçŸ¥
        function scheduleNotification() {
            // è¨­å®šå€’è¨ˆæ™‚ï¼Œé€™è£¡ä»¥ 10 ç§’ç‚ºä¾‹
            const timeInSeconds = 10;
            setTimeout(() => {
                new Notification('æé†’é€šçŸ¥', {
                    body: 'é€™æ˜¯ä¸€æ¢æ¸¬è©¦é€šçŸ¥ã€‚',
                });
            }, timeInSeconds * 1000); // å°‡ç§’æ•¸è½‰ç‚ºæ¯«ç§’


            const statusElement = document.getElementById("status");

        }

    </script>

</body>

</html>
